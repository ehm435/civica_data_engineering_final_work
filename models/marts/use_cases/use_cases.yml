version: 2

models:

  - name: mart_team_stats
    description: >
      Data Mart aggregated by Team and Event.
      Analyzes Team Firepower, Win Rates, and First Blood control.
    config:
      tags: ["platinum", "mart", "team_stats"]
    columns:
      - name: event_name
      - name: team_name
      - name: matches_played
        description: "Total matches played by the team."
      - name: map_win_rate_percent
        description: "Percentage of maps won by the team."
      - name: team_kd_ratio
        description: "Kill/Death Ratio accumulated by all players in the team."
      - name: first_blood_win_rate
        description: "Percentage of opening duels won by the team (Critical metric for map control)."

  - name: mart_player_stats
    description: >
      Data Mart aggregated by Player and Event.
      Provides high-level insights on Player Performance (Total Kills, Overall K/D).
    config:
      tags: ["platinum", "mart", "player_stats"]
    columns:
      - name: player_name
      - name: team_name
      - name: event_name
      - name: kd_ratio
        description: "Kill/Death Ratio aggregated for the whole event."
      - name: avg_acs
      - name: total_kills